# /* ---- Hyprland Window & Layer Rules – Cleaned v3 version ---- */

# ==============================================================
# TAGGING – group apps so we can apply the same rules to many apps
# ==============================================================

# Browsers
windowrule = tag +browser, class:^(firefox|org.mozilla.firefox|firefox-esr|firefox-bin)$
windowrule = tag +browser, class:^(google-chrome(-beta|-dev|-unstable)?)$
windowrule = tag +browser, class:^(chrome-.+-Default)$                     # Chrome PWAs
windowrule = tag +browser, class:^(chromium)$
windowrule = tag +browser, class:^(microsoft-edge(-stable|-beta|-dev|-unstable)?)$
windowrule = tag +browser, class:^(brave-browser(-beta|-dev|-unstable)?)$
windowrule = tag +browser, class:^(thorium-browser|cachy-browser)$
windowrule = tag +browser, class:^(zen-alpha|zen)$

# Terminals
windowrule = tag +terminal, class:^(alacritty|kitty|kitty-dropterm)$

# Email
windowrule = tag +email, class:^(thunderbird|org.gnome.Evolution|eu.betterbird.Betterbird)$

# Projects / IDEs
windowrule = tag +projects, class:^(codium|codium-url-handler|VSCodium|code|code-url-handler)$
windowrule = tag +projects, class:^(jetbrains-.*)$

# IM / Chat
windowrule = tag +im, class:^(discord|webcord|vesktop|ferdium|whatsapp-for-linux|zapzap|com.rtosta.zapzap|org.telegram.desktop|io.github.tdesktop_x64.TDesktop|teams-for-linux|im.riot.Riot|Element)$

# Games & Stores
windowrule = tag +games,      class:^(gamescope|steam_app_\d+)$
windowrule = tag +gamestore,  class:^(steam)$
windowrule = tag +gamestore,  title:^(lutris)$
windowrule = tag +gamestore,  class:^(com.heroicgameslauncher.hgl)$

# File managers
windowrule = tag +file-manager, class:^(thunar|org.gnome.Nautilus|pcmanfm-qt|app.drey.Warp)$

# Multimedia
windowrule = tag +multimedia,         class:^(audacious)$
windowrule = tag +multimedia_video,   class:^(mpv|vlc|com.github.rafostar.Clapper)$

# Settings / Tools
windowrule = tag +settings, class:^(pavucontrol|org.pulseaudio.pavucontrol|com.saivert.pwvucontrol|qt5ct|qt6ct|yad|nwg-look|nwg-displays|nm-connection-editor|blueman-manager|gnome-disks|wihotspot.*|baobab|org.gnome.baobab|file-roller|org.gnome.FileRoller|org.kde.polkit-kde-authentication-agent-1|rofi)$

# Viewers
windowrule = tag +viewer, class:^(gnome-system-monitor|org.gnome.SystemMonitor|io.missioncenter.MissionCenter|evince|eog|org.gnome.Loupe)$

# Special KooL stuff
windowrule = tag +KooL_Cheat,    title:^(KooL Quick Cheat Sheet)$
windowrule = tag +KooL_Settings, title:^(KooL Hyprland Settings)$
windowrule = tag +KooL-Settings, class:^(nwg-displays|nwg-look)$

# Notifications
windowrule = tag +notif, class:^(swaync.*)$

# ==============================================================
# PER-TAG RULES (opacity, float, size, etc.)
# ==============================================================

windowrule = opacity 0.99 0.80, tag:browser
windowrule = opacity 0.90 0.80, tag:projects
windowrule = opacity 0.94 0.86, tag:im
windowrule = opacity 0.94 0.86, tag:multimedia
windowrule = opacity 0.90 0.80, tag:file-manager
windowrule = opacity 0.90 0.70, tag:terminal

windowrule = float,   tag:settings
windowrule = size 70% 70%, tag:settings
windowrule = opacity 0.80 0.70, tag:settings

windowrule = float,   tag:viewer
windowrule = opacity 0.82 0.75, tag:viewer

windowrule = float,   tag:wallpaper
windowrule = size 70% 70%, tag:wallpaper
windowrule = opacity 0.9 0.7, tag:wallpaper

# Video players – no blur when playing
windowrule = no_blur,  tag:multimedia_video
windowrule = opacity 1.0, tag:multimedia_video

# Games – never fullscreen-monitor-blur, never accidentally fullscreen
windowrule = fullscreen 0, tag:games
windowrule = no_blur,      tag:games

# ==============================================================
# SPECIFIC APP OVERRIDES
# ==============================================================

# Ferdium – nice centered window
windowrule = float, center, size 60% 70%, class:^(ferdium)$

# WhatsApp / ZapZap
windowrule = float, center, size 60% 70%, class:^(whatsapp-for-linux|zapzap|com.rtosta.zapzap)$

# Picture-in-Picture
windowrule = float, pin, move 72% 7%, opacity 0.95 0.75, title:^(Picture-in-Picture)$

# Cheat sheet & keybindings
windowrule = float, center, size 65% 90%, tag:KooL_Cheat
windowrule = center, title:^(Keybindings)$

# KooL custom settings windows
windowrule = float, center, tag:KooL-Settings

# Common floating utilities
windowrule = float, class:^(zoom|onedriver|onedriver-launcher|org.gnome.Calculator|qalculate-gtk)$
windowrule = float, title:^(Calculator)$
windowrule = float, center, title:^(Authentication Required)$

# Dialogues & popups
windowrule = float, center, size 70% 60%, title:^(Save As|Add Folder to Workspace)$
windowrule = float, size 70% 60%, initialTitle:^(Open File)$

# Steam / Heroic popups, VSCodium popups, etc.
windowrule = float, class:^(steam)$, title:^(?!Steam$)
windowrule = float, class:^(com.heroicgameslauncher.hgl)$, title:^(?!Heroic Games Launcher)
windowrule = float, class:^(codium|VSCodium)$, title:negative:(.*codium.*|.*VSCodium.*)

# Idle inhibit on real fullscreen (games, videos, etc.)
windowrule = idleinhibit fullscreen, fullscreen:1

# JetBrains toolwindows – don’t steal focus
windowrule = noinitialfocus, class:^(jetbrains-.*
windowrule = noinitialfocus, title:^win.*$

# ==============================================================
# LAYER RULES (waybar, rofi, notifications, overview)
# ==============================================================

layerrule = blur,        namespace:rofi
layerrule = ignorezero,  namespace:rofi

layerrule = blur,        namespace:notifications
layerrule = ignorealpha 0.5, namespace:notifications

layerrule = blur,        namespace:quickshell:overview
layerrule = ignorealpha 0.5, namespace:quickshell:overview

# Optional: if you use swaync notifications
layerrule = blur,        class:^(swaync.*)$
layerrule = ignorealpha 0.5, class:^(swaync.*)$